%% Bluespec SystemVerilog language definition for the LaTeX listings package
%% Copyright 2013 Yury Bayda
\lstdefinelanguage[Bluespec]{Verilog}
{
  sensitive = true,
  morekeywords = [1]{
    %% SystemVerilog keywords
    begin,
    bit,
    break,
    case,
    continue,
    default,
    do,
    else,
    end,
    endcase,
    function,
    endfunction,
    endinterface,
    endmodule,
    endpackage,
    enum,
    export,
    extern,
    for,
    if,
    import,
    int,
    interface,
    local,
    localparam,
    matches,
    module,
    package,
    tagged,
    type,
    typedef,
    struct,
    union,
    void,
    %% Bluespec keywords
    action,
    endaction,
    actionvalue,
    endactionvalue,
    ancestor,
    deriving,
    instance,
    endinstance,
    let,
    return,
    match,
    method,
    endmethod,
    par,
    endpar,
    powered_by,
    provisos,
    rule,
    endrule,
    rules,
    endrules,
    seq,
    endseq,
    schedule,
    typeclass,
    endtypeclass,
    clock,
    reset,
    noreset,
    no_reset,
    clocked_by,
    reset_by,
    default_clock,
    default_reset,
    output_clock,
    output_reset,
    input_clock,
    input_reset,
    same_family,
  },
  morekeywords = [2]{
    %% Frequently used predefined types
    Action,
    ActionValue,
    Integer,
    Nat,
    Bit,
    UInt,
    Int,
    Bool,
    Maybe,
    String,
    Either,
    Rules,
    Module,
    Clock,
    Reset,
    Power,
    TAdd, TSub, TMul, TDiv, TLog, TExp, TMax, TMin, SizeOf,
    %%
    Empty,
    Reg,
    RWire, Wire, BypassWire, PulseWire,
    RegFile,
    Vector,
    FIFO, FIFOF,
    %%
    Bits, Eq, Ord, Bounded,
    Arith, Literal, Bitwise, BitReduction, BitExtend,
    IsModule, TieOff, ToPut, ToGet,
    Add, Max, Log, FShow, Randomizable, RealLiteral,
    %% Attributes
    synthesize, noinline, doc, options,
    always_ready, always_enabled,
    ready, enable, result, prefix,
    fire_when_enabled, no_implicit_conditions,
    bit_blast, scan_insert,
    descending_urgency, preempts, conservative_implicit_conditions,
    internal_scheduling, method_scheduling,
    CLK, RST_N, RSTN, ungated_clock
  }, 
  morekeywords = [3]{
    %% Frequently used expressions
    True,
    False,
    mkReg, mkRegU, mkRegA, mkRWire, mkWire, mkFIFO, mkSizedFIFOUG, mkFIFO1,
    mkBypassWire, mkDWire, mkPulseWire,
    pack, unpack, zeroExtend, signExtend, truncate, extend,
    fromInteger, inLiteralRange, negate,
    valueOf, valueof, SizeOf, defaultValue,
    minBound, maxBound,
    signedShiftRight, div, mod, exp, log2, add, abs, max, min, quot, rem,
    fromMaybe, isValid, validValue, noAction,
    error, warning, message, messageM,
    nosplit, emptyRules, addRules, rJoin, rJoinPreempts, rJoinDescendingUrgency,
    fshow, newVector,
    %% System tasks
    \$display,
    \$displayb,
    \$displayh,
    \$displayo,
    \$write,
    \$writeb,
    \$writeh,
    \$writeo,
    \$fopen,
    \$fclose,
    \$fgetc,
    \$ungetc,
    \$fflush,
    \$fdisplay,
    \$fdisplayb,
    \$fdisplayh,
    \$fdisplayo,
    \$fwrite,
    \$fwriteb,
    \$fwriteh,
    \$fwriteo,
    \$stop,
    \$finish,
    \$dumpon,
    \$dumpoff,
    \$dumpvars,
    \$dumpfile,
    \$dumpflush,
    \$time,
    \$stime,
    \$signed,
    \$unsigned,
    \$test\$plusargs,
    \$format
  },
  morecomment = [l]{//},
  morecomment = [s]{/*}{*/},
  morestring = [b]",
  morestring = [b]'
}
